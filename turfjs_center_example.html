<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title>Antonio Locandro TurfJS Test </title>
 <script src='https://api.tiles.mapbox.com/mapbox.js/plugins/turf/v1.3.0/turf.min.js'></script>
   <script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.5/mapbox.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.5/mapbox.css' rel='stylesheet' />
  <style>
    body { margin:0; padding:0; }
    .map { position:absolute; top:0; bottom:0; width:100%; }
  </style>
</head>
<body>
<div id='map-one' class='map'> </div>
<script>
L.mapbox.accessToken = 'pk.eyJ1IjoiYW50b25pb2xvY2FuZHJvIiwiYSI6IlBSeGJnY3MifQ.BGoPk8mFq-RM8VTdhzOE1g';

//add geojson layer 
// initially hardcoded in html

var metro = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "dms_lat": "534519.45N",
        "dms_lon": "0024558.96W",
        "elev_ft": 300,
        "ID": "UK0171Q967F",
        "lat": 53.755403,
        "lon": -2.766378,
        "elev_m": 91.441112
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -2.766378,
          53.755403
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "dms_lat": "533814.41N",
        "dms_lon": "0001543.78E",
        "elev_ft": 300,
        "ID": "UK0171V502F",
        "lat": 53.637336,
        "lon": 0.262161,
        "elev_m": 91.441112
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          0.262161,
          53.637336
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "dms_lat": "533000.00N",
        "dms_lon": "0033800.00W",
        "elev_ft": 300,
        "ID": "UK0171S227F",
        "lat": 53.5,
        "lon": -3.633333,
        "elev_m": 91.441112
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -3.633333,
          53.5
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "dms_lat": "574455.18N",
        "dms_lon": "0005448.47E",
        "elev_ft": 302,
        "ID": "UK0151A010F",
        "lat": 57.748661,
        "lon": 0.913464,
        "elev_m": 92.050719
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          0.913464,
          57.748661
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "dms_lat": "574352.70N",
        "dms_lon": "0005816.05E",
        "elev_ft": 302,
        "ID": "UK0151A009F",
        "lat": 57.731306,
        "lon": 0.971125,
        "elev_m": 92.050719
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          0.971125,
          57.731306
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "dms_lat": "574334.72N",
        "dms_lon": "0005044.99E",
        "elev_ft": 302,
        "ID": "UK0151A008F",
        "lat": 57.726311,
        "lon": 0.845831,
        "elev_m": 92.050719
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          0.845831,
          57.726311
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "dms_lat": "532322.73N",
        "dms_lon": "0020011.09E",
        "elev_ft": 328,
        "ID": "UK0171Q996F",
        "lat": 53.389647,
        "lon": 2.003081,
        "elev_m": 100
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          2.003081,
          53.389647
        ]
      }
    }
  ]
}

var center = turf.center(metro)

center.properties = {
    "marker-color": "#25561F",
    "title": "Center Point",
    "marker-size": "large",
    "marker-symbol": "star-stroked"
}; 


var  map = L.mapbox.map('map-one', 'examples.map-i86l3621').setView( [54.95314444,0.938233333] ,6) ;

L.geoJson(metro).addTo(map) ;
//L.geoJson(center).addTo(map);
L.mapbox.featureLayer().setGeoJSON(center).addTo(map);

</script>
</body>
</html>


